---
layout: post
title:  "연결 리스트 자료구조"
date:   2024-06-24T14:22:00+09:00
author: DINHO
categories:
  - 자료 구조
cover:  "/assets/post/리스트.png"
---

어느덧 한 학기가 다 지나갔습니다. 4학년 1학기 캡스톤 디자인도 순조롭게 마무리 되었고, 종강 하고 보니 어느덧 햇볕이 땀구슬을 맻히게 하는 계절이 왔습니다. 방학 때는 학기 중보다 더 자주 포스팅을 할 수 있습니다!! 오늘은 지난 번(무려 두 달 전...)에 이어서 연결 리스트에 대해 이야기 해보겠습니다.

1. 연결 리스트

    __연결 리스트의 객체 구조__

    연결 리스트는 원소가 추가 될 떄마다 공간을 할당 받아 추가하는 <span style="color:red"> 동적 할당 방식 </span> 입니다. 이 덕분에 공간 낭비를 피할 수 있습니다. 구체적인 구조는 아래와 같습니다.

    <img src="/assets/post/연결리스트객체구조1.png">

    연결 리스트에는 __head와 __numItems라는 개념이 있습니다. __head는 첫 번째 노드에 대한 레퍼런스 입니다. __numItems는 연결 리스트에 들어 있는 원소의 총 수입니다. 기본적으로 헤드가 다음 아이템을 가리키고 있다고 생각하시면 됩니다.
    
    연결 리스트를 이해하기 위해서는 Node라는 개념도 알아야 합니다. 이 노드가 서로 연결 되어 있다는 점이 단순 배열 리스트와 차이가 있습니다. 대표적인 예시로 앞서 말했던 것처럼 기존 배열 리스트에서 원소를 삽입하는 경우 원소를 한 칸 씩 일일이 움직여야 하는데, 연결 리스트에서는 노드의 연결만 바꿔주면 되기 때문에 더 효율적입니다. 이제 연결 리스트의 객체 구조와 연결 리스트의 작업을 공부해보면 더 잘 와닿으실 겁니다.

    <img src="/assets/post/연결리스트객체구조2.png">

    __연결 리스트의 작업__

    원소 삽입, 삭제, i번 원소 알려주기, x가 몇 번 원소인지 알려주기 등을 중심으로 연결 리스트의 작업에 대해 알아보겠습니다.

    - 원소 삽입

    (1) 원소 삽입

    <img src="/assets/post/연결리스트원소삽입1.png">

    위 이미지와 같이 연결 리스트에 새로운 원소를 삽입하려고 합니다. 아래 이미지와 같이 노드의 연결만 바꿔주면 삽입을 간편하게 할 수 있습니다.

    <img src="/assets/post/연결리스트원소삽입2.png">

    원소를 중간이 아닌 마지막 원소 뒤나 첫 번째 원소 앞에 삽입하고자 할 때 과정은 아래와 같습니다. 

    (2) 원소 삽입 (마지막 원소)

    <img src="/assets/post/연결리스트원소삽입3.png">

    (3) 원소 삽입 (첫 번째 원소)

    <img src="/assets/post/연결리스트원소삽입4.png">

    (1), (2), (3) 과정은 다음과 같이 코드로 구현할 수 있습니다.

    ```python
    def insert(i,x) # i번째 원소에 x 삽입
        if i == 0: # 첫 번째 원소 삽입
            newNode.item = x # 새 원소 
            newNode.next = __head # newNode의 다음 노드를 현재 첫 번째 노드인 __head로 설정. 즉, 새로운 노드가 기종의 첫 번째 노드를 가리키도록 함
            __head = newNode # 연결 리스트의 첫 번째 노드를 newNode로 갱신. 즉, 새로운 노드를 리스트의 맨 앞에 배치
            __numItems += 1 # 리스트 크기 하나 증가
        else: # 첫 번째가 아닌 i+1번째 원소 삽입
            newNode.item = x # 새 원소
            newNode.next = prev.next # newNode의 다음 노드를 prev노드가 가리키고 있던 노드를 가리키도록 설정
            prev.next = newNode # prev 노드의 다음 노드를 newNode로 설정. 즉, prev 노드가 이제 새로운 노드를 가리키도록 함
            __numItems += 1 # 리스트 크기 하나 증가
    ```

    이 과정은 dummy head가 없을 때의 과정입니다. 그렇다면 dummy head를 이용하면 어떻게 바뀔지 알아보겠습니다.

    (4) 원소 삽입 (dummy head 활용)

    더미 헤드는 연결 리스트의 시작 부분에 위치하는 특수한 노드로, 실제 데이터는 포함하지 않지만 리스트의 구조를 단순화하고 다양한 연산을 쉽게 수행하도록 도와줍니다.더미 헤드는 삽입, 삭제 등의 연산을 수행할 때, _특히 첫 번째 노드와 관련된 연산에서_ 코드의 일관성을 유지하고 예외 처리를 단순화 하는 데 유용합니다. 장점을 요약하면 아래와 같습니다.

    * 리스트의 처음과 끝에 노드를 삽입할 때 특별한 경우를 처리할 필요가 없음.
    * 코드가 간결해지고, 첫 번째 노드와 관련된 연산에서의 복잡성이 줄어듦.

    이번에는 코드부터 먼저 살펴 보겠습니다.

    ```python
    def insert(i,x): # 더미 헤드 사용하는 경우
        newNode.item = x
        newNode.next = prev.next
        prev.next = newNode
        __numItems += 1
    ```

    딱 봤을 때 맨 처음 봤었던 삽입 코드에서 첫 번째(i가 0번째)에 삽입 하는 경우의 예외처리를 없앤 것과 동일합니다. 어떻게 이게 가능할까요?

    <img src="/assets/post/연결리스트원소삽입5.png">

    위 그림은 더미 헤드를 활용해서 첫 번째 원소에 삽입하는 경우를 나타냅니다. 

    더미 헤드가 있기 때문에 첫 번째 원소에 삽입하는 경우에도 prev 노드가 더미 헤드가 될 수 있기 때문에 기존 i번째 삽입과 동일하게 사용할 수 있습니다.

    - 원소 삭제

    (1) 원소 삭제

    <img src="/assets/post/연결리스트원소삭제1.png">

    (2) 원소 삭제 (마지막 원소)

    <img src="/assets/post/연결리스트원소삭제2.png">

    원리는 간단합니다. 기존 prev.next를 prev.next.next로 설정하고 원소 크기를 줄이면 연결이 끊긴 원소(삭제 하려는 원소)가 삭제 됩니다.

    마지막 원소를 삭제할 때는 prev.next.next가 none 이라고 생각하면 됩니다.

    (3) 원소 삭제 (첫 번째 원소)

    <img src="/assets/post/연결리스트원소삭제3.png">

    (1), (2), (3) 과정은 아래 코드와 같이 정의될 수 있습니다.

    ```python
    if i == 0: # 첫 번째 원소 지울 때
        __head.next = __head.next.next # __head.next를 __head.next.next로 설정
        __numItems -= 1 # 리스트 크기 1 감소
    else:
        prev.next = prev.next.next # prev.next를 prev.next.next로 설정
        __numItems -+ 1 # 리스트 크기 1 감소
    ```

    이 경우 역시 더미 헤드가 없는 경우입니다. 더미 헤드가 있는 경우는 어떻게 될 지 예상이 가시나요?? 삽입 과정에서 더미 헤드를 이해하셨다면 삭제 과정에서도 충분히 이해하실 수 있으실 겁니다.

    (4) 원소 삭제 (dummy head 활용)

    <img src="/assets/post/연결리스트원소삭제4.png">

    더미 헤드를 활용하면 삽입과 마찬가지로 첫 번째 예외처리를 하지 않아도 됩니다. 코드는 아래와 같습니다.

    ```python
    prev.next = prev.next.next # prev.next를 prev.next.next로 설정
    __numItems -+ 1 # 리스트 크기 1 감소
    ```

    



    




    